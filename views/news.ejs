<%
  const { totalPages, pageSize, articles } = news;
  const pages = Math.floor(totalPages / pageSize);
  const pagination = new Array(pages).fill(0).map((_, index) => index);
  pagination.forEach(page => { 
    const current = (query.page == page + 1) ? 'active' : 'passive'; %>
    <a class="<%= current %>" href='/news?country=<%= query.country %>&page=<%= page + 1 %>'><%= page + 1 %></a>
<% }); %>

<h2>News > <%= query.country.toUpperCase() %></h2>

<hr />

<% articles.forEach((item, index) => {
    const { author, title, description, url, urlToImage } = item; %>
    <h3>Article <%= (pageSize * (query.page - 1)) + index + 1 %></h3>
    <ul>
      <li><span class="font-weight-700">Title:</span> <%= title || 'N/A' %></li>
      <li><span class="font-weight-700">Description:</span> <%= description || 'N/A' %></li>
      <li><span class="font-weight-700">Link:</span> <a href='<%= url %>' target='_blank'>Find out more</a></li>
      <li><span class="font-weight-700">Author:</span> <%= author || 'N/A' %></li>
    </ul>
    <% if (urlToImage) { %> <img src="<%= urlToImage %>" class="article"> <% } %>
    <% if (index < 9) { %> <hr /> <% } %>
<% }); %>